<!DOCTYPE html>
<html class="no-js" lang="">

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Companies</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Favicon -->
    <link rel="shortcut icon" href="assets/img/favicon/favicon.ico">
    <link rel="apple-touch-icon-precomposed" href="assets/img/favicon/icon.png">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/fontawesome.min.css">

    <!-- Styles -->
    <link rel="stylesheet" href="assets/css/jquery.jscrollpane.css">
    <link rel="stylesheet" href="assets/css/daterangepicker.css">
    <link rel="stylesheet" href="assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/css/normalize.css">
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="assets/css/responsive.css">

    <!-- Page Level Styles -->
    <link rel="stylesheet" href="https://unpkg.com/ag-grid-community/dist/styles/ag-grid.css">
    <link rel="stylesheet" href="https://unpkg.com/ag-grid-community/dist/styles/ag-theme-alpine.css">

    <!-- Mordernizer -->
    <script src="assets/js/vendor/modernizr-3.11.2.min.js"></script>
</head>

<body>
    <div class="dashboard-area">
        <div class="container-fluid">
            <div class="row">
                <div class="col-lg-3">
                    <div class="sidebar">
                        <div class="logo">
                            <img width="40" src="assets/img/logo.png" alt="">
                        </div>
                        <div class="main-menu">
                            <ul>
                                <li><a href="index.html"><span class="icon"><img src="assets/img/icon-1.png"
                                                alt=""></span><span class="text">Dashboard</span></a></li>
                                <li class="active"><a href="companies.html"><span class="icon"><img
                                                src="assets/img/icon-2.png" alt=""></span><span
                                            class="text">Companies</span></a></li>
                                <li><a href="account.html"><span class="icon"><img src="assets/img/icon-3.png"
                                                alt=""></span><span class="text">My Account</span></a></li>
                                <li><a href="resources.html"><span class="icon"><img src="assets/img/icon-4.png"
                                                alt=""></span><span class="text">Resources</span></a></li>
                                <li><a href="reporting.html"><span class="icon"><img src="assets/img/icon-5.png"
                                                alt=""></span><span class="text">Reporting</span></a></li>
                            </ul>
                        </div>
                        <div class="sidebar-footer">
                            <a href="#" class="btn btn-round"><i class="fas fa-cog"></i></a>
                            <a href="#" class="btn btn-round"><img src="assets/img/icon-6.png" alt=""></a>
                        </div>
                    </div>
                </div>
                <div class="col-lg-9">
                    <div class="dashboard">
                        <div class="dashborad-header">
                            <div class="dashborad-header-title">
                                <h1>Enterprise Dashboard</h1>
                            </div>
                            <div class="dashborad-header-right">
                                <a href="#" class="btn btn-support"><img src="assets/img/support.png" alt=""></a>
                                <div class="user-info">
                                    <div class="author" data-toggle="dropdown">
                                        <div class="author-image active">
                                            <img src="assets/img/author.jpg" alt="">
                                        </div>
                                        <h2>Eric Smith</h2>
                                    </div>
                                    <div class="dropdown-menu">
                                        <a class="dropdown-item" href="#">Action</a>
                                        <a class="dropdown-item" href="#">Another action</a>
                                        <a class="dropdown-item" href="#">Something else here</a>
                                        <div class="dropdown-divider"></div>
                                        <a class="dropdown-item" href="#">Logout</a>
                                    </div>
                                </div>
                                <button id="menu-tigger" class="menu-tigger">
                                    <span></span>
                                    <span></span>
                                    <span></span>
                                </button>
                            </div>
                        </div>
                        <div class="dashborad-body">
                            <h3 class="title">Companies <span class="info" data-toggle="popover" data-placement="top"
                                    data-content="Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."><i
                                        class="fas fa-info-circle"></i></span></h3>
                            <div class="dashborad-card">
                                <div class="table-filter-wrap">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="table-filter-select">
                                                <label>Show</label>
                                                <select id="maxRows">
                                                    <option value="15">15</option>
                                                    <option value="50">50</option>
                                                    <option value="100">100</option>
                                                </select>
                                                <span>entries</span>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="table-head-right">
                                                <div class="search-filter">
                                                    <i class="fas fa-search"></i>
                                                    <input type="text" id="filter-text-box" placeholder="Search ..."
                                                        oninput="onFilterTextBoxChanged()">
                                                </div>
                                                <div class="table-button">
                                                    <button><img src="assets/img/excel.png" alt=""></button>
                                                    <button><img src="assets/img/pdf.png" alt=""></button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div id="myGrid" style="height: 700px;" class="ag-theme-alpine"></div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
    </div>
    <!-- Scripts -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>

    <script>
        window.jQuery || document.write('<script src="assets/js/vendor/jquery-3.5.1.min.js"><\/script>')
    </script>
    <script src="assets/js/jquery.mousewheel.min.js"></script>
    <script src="assets/js/jquery.jscrollpane.min.js"></script>
    <script src="assets/js/moment.min.js"></script>
    <script src="assets/js/daterangepicker.js"></script>
    <script src="assets/js/popper.min.js"></script>
    <script src="assets/js/bootstrap.min.js"></script>
    <script src="assets/js/main.js"></script>
    <script src="https://unpkg.com/@ag-grid-community/all-modules@25.3.0/dist/ag-grid-community.min.js"></script>

    <script>
        var gridOptions;
        var paginationPageSize = 15;

        function onFilterTextBoxChanged() {
            gridOptions.api.setQuickFilter($('#filter-text-box').val());
        }

        $(document).ready(function () {

            const columnDefs = [{
                field: "bid",
                sortable: true,
                filter: 'agTextColumnFilter',
                minWidth: 120,
                headerName: "Bid"
            }, {
                field: "company_name",
                sortable: true,
                minWidth: 190,
                headerName: "Company"
            }, {
                field: "account_email",
                sortable: true,
                minWidth: 190,
                headerName: "Account"
            }, {
                field: "industry_type",
                sortable: true,
                headerName: "Industry"
            }, {
                field: "first_used",
                sortable: true,
                minWidth: 110,
                headerName: "First Used"
            }, {
                field: "last_used",
                sortable: true,
                minWidth: 110,
                headerName: "Last Used"
            }, {
                field: "total_sent",
                sortable: true,
                filter: 'agNumberColumnFilter',
                headerName: "Total Sent"
            }];

            // let the grid know which columns to use
            gridOptions = {
                columnDefs: columnDefs,

                // enables pagination in the grid
                pagination: true,

                //floatingFilter: true,

                // sets 50 rows per page (default is 100)
                paginationPageSize: paginationPageSize,

                defaultColDef: {
                    flex: 1,
                    editable: true,
                    minWidth: 80,
                    sortable: true,
                    filter: true
                },
            };

            // lookup the container we want the Grid to use
            const eGridDiv = document.querySelector('#myGrid');

            // create the grid passing in the div to use together with the columns & data we want to use
            new agGrid.Grid(eGridDiv, gridOptions);

            // fetch the row data to use and one ready provide it to the Grid via the Grid API
            // agGrid.simpleHttpRequest({
            //         url: 'http://localhost:8080/' + 'https://thereviewsolution.com/app/index.php/api/v3/GetExpressBBBEndpointv3/access_token/STR5555555555/bbbid/0382'
            //     })
            //     .then(data => {
            //         gridOptions.api.setRowData(data.result);
            //     });

            agGrid.simpleHttpRequest({
                    url: 'http://localhost:8080/readfile'
                })
                .then(data => {
                    gridOptions.api.setRowData(data.result);
                });


            $('#maxRows').on('change', function () {
                paginationPageSize = this.value;
                gridOptions.api.paginationSetPageSize(paginationPageSize);
            });
        });
    </script>
</body>

</html>